<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Raziel Game Store</title>
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
      }

      header {
        background-color: #333;
        color: white;
        padding: 1em;
      }

      nav {
        background-color: #444;
        text-align: center;
      }

      nav a {
        color: white;
        text-decoration: none;
        font-weight: bold;
      }

      nav a:hover {
        background-color: #555;
        border-radius: 5px;
      }

      footer {
        background-color: #333;
        color: white;
        text-align: center;
        padding: 1em;
        position: fixed;
        bottom: 0;
        width: 100%;
      }

      .modal-content {
        background-color: #fefefe;
        margin: 5% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
      }
      .container {
        margin-left: 0 !important;
        margin-right: 0 !important;
      }
    </style>
  </head>
  <body>
    <header class="bg-dark text-white">
      <div class="row">
        <div class="col">
          <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container">
              <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown"
                aria-expanded="false"
                aria-label="Toggle navigation"
              >
                <span class="navbar-toggler-icon"></span>
              </button>

              <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    
                  <li class="nav-item dropdown">
                    <a
                      class="nav-link dropdown-toggle"
                      href="#"
                      id="navbarDropdownMenuLink"
                      role="button"
                      data-toggle="dropdown"
                      aria-haspopup="true"
                      aria-expanded="false"
                    >
                      <span
                        class="navbar-toggler-icon"
                        style="float: left"
                      ></span>
                    </a>
                    <div
                      class="dropdown-menu"
                      aria-labelledby="navbarDropdownMenuLink"
                    >
                      <a
                        class="dropdown-item"
                        href="javascript:void(0);"
                        onclick="loadContent('Welcome')"
                        >PAGINA INCIAL</a
                      >
                      <a
                        class="dropdown-item"
                        href="javascript:void(0);"
                        onclick="loadContent('Games')"
                        >JOGOS</a
                      >
                      <a
                        class="dropdown-item"
                        href="javascript:void(0);"
                        onclick="loadContent('Contactos')"
                        >CONTACTOS</a
                      >
                    </div>
                  </li>
                </ul>
                <img
                  src="Resources\Images\Logo.png"
                  width="18%"
                  height="18%"
                  alt="Round Image"
                  class="rounded-circle shadow-4-strong img-fluid"
                  alt="avatar1"
                  style="float: right"
                />
              </div>
            </div>
          </nav>
        </div>
        <div class="col">
          <h1 style="text-align: center">RAZIEL GAMES STORE</h1>
        </div>
        <div class="col" style="text-align: right">
            <a class="navbar-brand" href="#" id="loginBtn">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18%"
                  height="15%"
                  fill="currentColor"
                  class="bi bi-person-down"
                  viewBox="0 0 16 16"
                >
                  <path d="M12.5 9a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7m.354 5.854 1.5-1.5a.5.5 0 0 0-.708-.708l-.646.647V10.5a.5.5 0 0 0-1 0v2.793l-.646-.647a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/>
                  <path d="M8.256 14a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z"/>
                </svg>
              </a>
        </div>
      </div>
    </header>

    <iframe
      id="content"
      class="content"
      style="width: 100%; height: 100vh"
      frameborder="0"
      src="Welcome.html"
    ></iframe>

    <footer class="bg-dark text-white">
      <p>&copy; 2024 Raziel Game Store. <a
        href="javascript:void(0);"
        onclick="loadContent('troll')"
        > All rights reserved.</a>
    </footer>

    <div class="modal" id="loginModal">
        
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Iniciar Sessão</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          
          <div class="modal-body">
            <div class= "pb-2">Não tem conta? <a class="" href="#" id="signupBtn"> Registar </a></div>
            <div>
                <form id="Login_Form">
              <div class="form-group">
                <label for="username">Endereço de email:</label>
                <input
                  type="text"
                  class="form-control"
                  id="email_username"
                  name="username"
                  required
                />
              </div>

              <div class="form-group">
                <label for="password">Palavra-passe:</label>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="password"
                  required
                />
              </div>

              <button
                type="button"
                class="btn btn-primary"
                onclick="performLogin()"
              >
                Login
              </button>
            </form>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal" id="signupModal">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Cadastre-se em Raziel Games</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class= "pb-2">Não tem conta? <a class="" href="#" id="loginBtnback"> Registar </a></div>
            <div>
                <form id="Signin_Form">
                    <div class="form-group">
                      <label for="new_email_username">Endereço de email:</label>
                      <input
                        type="text"
                        class="form-control"
                        id="new_email_username"
                        name="username"
                        required
                      />
                    </div>
      
                    <div class="form-group">
                      <label for="new_password">Palavra-passe:</label>
                      <input
                        type="password"
                        class="form-control"
                        id="new_password"
                        name="password"
                        required
                      />
                    </div>
                    <div class="form-group">
                        <label for="new_password_confirm">Confirma a Palavra-passe:</label>
                        <input
                          type="password"
                          class="form-control"
                          id="new_password_confirm"
                          name="password"
                          required
                        />
                      </div>
      
              <button
                type="button"
                class="btn btn-primary"
                onclick="performSignup()"
              >
                Register
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>

      var loginModal = document.getElementById("loginModal");
      var signupModal = document.getElementById("signupModal");
      var loginBtn = document.getElementById("loginBtn");
      var signupBtn = document.getElementById("signupBtn");


      loginBtn.onclick = function () {

        $("#loginModal").modal("show");
        $("#signupModal").modal("hide");
      };

      signupBtn.onclick = function () {
        $("#loginModal").modal("hide");
        $("#signupModal").modal("show");
      };
      loginBtnback.onclick = function () {
        $("#loginModal").modal("show");
        $("#signupModal").modal("hide");
      };


      window.onclick = function (event) {
        if (event.target == loginModal) {
          $("#loginModal").modal("hide");
        }

        if (event.target == signupModal) {
          $("#signupModal").modal("hide");
        }
      };

      function performLogin() {

            var FormLogin = document.getElementById("Login_Form");


            var email_username = FormLogin.elements["email_username"].value;
            var password = FormLogin.elements["password"].value;



            

            if (email_username == "admin@gmail.com" && password == "admin")
            {   
              
                alert("email username: " + email_username + "\nPassword: " + password);
                $("#loginModal").modal("hide");
                changeIcon();
            }
            else
            {
                alert("WRONG username or password");
            }
        };

        function changeIcon() {


var newImg = document.createElement("img");
newImg.setAttribute("src", "Resources\\Images\\ImageLogin.jpg"); 
newImg.setAttribute("alt", "Round Image");
newImg.setAttribute("alt", "avatar1"); 
newImg.setAttribute("fill", "currentColor"); 
newImg.setAttribute("class", "rounded-circle shadow-4-strong img-fluid");
newImg.setAttribute("float", "right"); 
newImg.setAttribute("width", "9%"); 


                  
var newLink = document.createElement("a");

newLink.appendChild(newImg);

loginBtn.innerHTML = '';
loginBtn.appendChild(newLink);

loginBtn.onclick = function () {
  loadContent('Profile');
};
  }

    
       



      function performSignup() {
        var FormSign = document.getElementById("Signin_Form");

        var new_email_username = FormSign.elements["new_email_username"].value;
        var new_password = FormSign.elements["new_password"].value;
        var new_password_confirm = FormSign.elements["new_password_confirm"].value;
        
        if (!new_email_username || !new_password || !new_password_confirm)
        {
            return
        }


        if (isValidEmail(new_email_username))
        {
            alert("Email is not valid" );

        }   else if(!validatepassword(new_password) ) {
            alert("THE PASSWORD requirements: \n 8 or more character;\nOne capital letter\n1 number;\n1 especial character\n" );

        }else{
            if (new_password === new_password_confirm){

                alert("PARABENS + " + new_email_username + " conseguiste cadastrar!!" );
                $("#signupModal").modal("hide");

                $("#loginModal").modal("show");
            }
            else
            {
                alert("As palavras-passes não coincidem");

            }
        }
        
        
        function validatepassword(senha) {
        var regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&.])[A-Za-z\d@$!%*?&.]{8,}$/;

        return regex.test(senha);
        }
        function isValidEmail(email) {
        var emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        return emailRegex.test(email);
        }

      };

      
      function loadContent(pageName) {
        var iframe = document.getElementById("content");

        iframe.src = pageName + ".html";
      }
    </script>
  </body>
</html>
